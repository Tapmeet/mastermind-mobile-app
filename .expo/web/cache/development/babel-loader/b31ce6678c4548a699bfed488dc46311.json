{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/tsingh/Desktop/Tapmeet-Projects/mastermind-mobile-app/src/components/screens/PaymentMethodListings.js\";\n\nimport React from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport useWindowDimensions from \"react-native-web/dist/exports/useWindowDimensions\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { API_URL } from \"../Utility/AppConst\";\nimport { Container, Content, Form, Item, Input, Label, Button, Text, Body, H2, Icon } from \"native-base\";\nimport loginStyle from \"../../style/login/loginStyle\";\nimport globalStyle from \"../../style/globalStyle\";\nimport { useSelector } from 'react-redux';\nimport { SideBarMenu } from \"../sidebar\";\nimport DatePicker from 'react-native-datepicker';\nimport moment from 'moment';\nvar apiUrl = API_URL.trim();\n\nvar PaymentMethodListings = function PaymentMethodListings(props) {\n  var userId = useSelector(function (state) {\n    return state;\n  });\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      loader = _React$useState2[0],\n      setloader = _React$useState2[1];\n\n  var _React$useState3 = React.useState([]),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      paymentMethod = _React$useState4[0],\n      setPaymentMethod = _React$useState4[1];\n\n  React.useEffect(function () {\n    navigation.addListener('focus', function () {\n      setloader(true);\n\n      if (paymentMethod.length == 0) {\n        getPersonId();\n      }\n    });\n  });\n\n  function getPersonId() {\n    fetch(apiUrl + \"/odata/StudentAccount\", {\n      method: \"get\",\n      headers: {\n        Accept: \"*/*\",\n        \"Content-Type\": \"application/json\",\n        'Authorization': 'Bearer ' + userId[0].access_Token\n      }\n    }).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      getPaymentMethod(data.PersonId);\n    });\n  }\n\n  function getPaymentMethod(personIds) {\n    fetch(apiUrl + \"/odata/People(\" + personIds + \")/PersonPaymentMethods\", {\n      method: \"get\",\n      headers: {\n        Accept: \"*/*\",\n        \"Content-Type\": \"application/json\",\n        'Authorization': 'Bearer ' + userId[0].access_Token\n      }\n    }).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      if (data.value) {\n        setloader(false);\n        setPaymentMethod(data.value);\n      } else {\n        setloader(false);\n      }\n    });\n  }\n\n  var navigation = props.navigation;\n  return React.createElement(Container, {\n    style: loginStyle.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }\n  }, React.createElement(SideBarMenu, {\n    title: \"Payment Methods \",\n    navigation: props.navigation,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }), React.createElement(Content, {\n    style: loginStyle.spacing,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: loginStyle.contentContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, loader ? React.createElement(View, {\n    style: [styles.container, styles.horizontal],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, React.createElement(ActivityIndicator, {\n    size: \"large\",\n    color: \"#29ABE2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 15\n    }\n  })) : paymentMethod.length > 0 ? paymentMethod.map(function (payment, index) {\n    var Expiry = new Date(payment.Expiration).toISOString().slice(0, 10);\n    return React.createElement(View, {\n      key: index,\n      style: [globalStyle.Boxshadow, {\n        padding: 15\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 19\n      }\n    }, React.createElement(Text, {\n      style: {\n        textAlign: \"center\",\n        fontSize: 25,\n        fontWeight: \"bold\",\n        marginBottom: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }\n    }, payment.PaymentTypeId == 2 ? \"Bank Details \" : \"Credit card \"), payment.PaymentTypeId != 2 ? React.createElement(View, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 23\n      }\n    }, React.createElement(View, {\n      style: {\n        marginBottom: 15\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 25\n      }\n    }, React.createElement(View, {\n      style: globalStyle.formField,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 27\n      }\n    }, React.createElement(Text, {\n      style: globalStyle.formLabel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 29\n      }\n    }, \"Nickname \"), React.createElement(Input, {\n      value: payment.Nickname,\n      placeholderTextColor: \"#ccc\",\n      style: globalStyle.formControls,\n      placeholder: \"Nickname\",\n      editable: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 29\n      }\n    }))), React.createElement(View, {\n      style: {\n        marginBottom: 15\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 25\n      }\n    }, React.createElement(View, {\n      style: globalStyle.formField,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 27\n      }\n    }, React.createElement(Text, {\n      style: globalStyle.formLabel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 29\n      }\n    }, \"Card Number \"), React.createElement(Input, {\n      value: \"XXXX-XXXX-XXXX-\" + payment.Last4Digits,\n      keyboardType: \"number-pad\",\n      placeholderTextColor: \"#ccc\",\n      style: globalStyle.formControls,\n      placeholder: \"Card Number\",\n      editable: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 29\n      }\n    }))), React.createElement(View, {\n      style: {\n        marginBottom: 25\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 25\n      }\n    }, React.createElement(View, {\n      style: globalStyle.formField,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 27\n      }\n    }, React.createElement(Text, {\n      style: globalStyle.formLabel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 29\n      }\n    }, \"Card Code \"), React.createElement(Input, {\n      value: ' ' + payment.SecurityCode,\n      placeholderTextColor: \"#ccc\",\n      style: globalStyle.formControls,\n      editable: false,\n      placeholder: \"Card Code\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 29\n      }\n    }))), React.createElement(View, {\n      style: {\n        marginBottom: 25\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 25\n      }\n    }, React.createElement(View, {\n      style: globalStyle.formField,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 27\n      }\n    }, React.createElement(Text, {\n      style: globalStyle.formLabel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 29\n      }\n    }, \"Card Expiration \"), React.createElement(Input, {\n      value: Expiry,\n      placeholderTextColor: \"#ccc\",\n      style: globalStyle.formControls,\n      editable: false,\n      placeholder: \"Card Expiration\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 29\n      }\n    })))) : React.createElement(View, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 25\n      }\n    }, React.createElement(View, {\n      style: {\n        marginBottom: 15\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 25\n      }\n    }, React.createElement(View, {\n      style: globalStyle.formField,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 27\n      }\n    }, React.createElement(Text, {\n      style: globalStyle.formLabel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 29\n      }\n    }, \"Nickname \"), React.createElement(Input, {\n      value: ' ' + payment.Nickname,\n      keyboardType: \"number-pad\",\n      placeholderTextColor: \"#ccc\",\n      style: globalStyle.formControls,\n      placeholder: \"Nickname\",\n      editable: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 29\n      }\n    }))), React.createElement(View, {\n      style: {\n        marginBottom: 15\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 25\n      }\n    }, React.createElement(View, {\n      style: globalStyle.formField,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 27\n      }\n    }, React.createElement(Text, {\n      style: globalStyle.formLabel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 29\n      }\n    }, \"Account \"), React.createElement(Input, {\n      value: \"XXXXXX-\" + payment.Last4Digits,\n      placeholderTextColor: \"#ccc\",\n      style: globalStyle.formControls,\n      placeholder: \"Account\",\n      editable: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 29\n      }\n    })))));\n  }) : React.createElement(View, {\n    style: [globalStyle.tableBoxshadow, {\n      borderTopLeftRadius: 15,\n      borderTopRightRadius: 15,\n      marginBottom: 60,\n      marginTop: 60\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: {\n      padding: 15,\n      fontSize: 22,\n      alignSelf: \"center\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 17\n    }\n  }, \"No Payment Method Added\")), loader == false ? React.createElement(View, {\n    style: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      marginBottom: 50\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 13\n    }\n  }, React.createElement(Button, {\n    style: [loginStyle.buttonSecondarys, {\n      marginTop: 20,\n      width: \"50%\"\n    }],\n    onPress: function onPress() {\n      return props.navigation.navigate(\"Payment Method Card\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 15\n    }\n  }, React.createElement(Text, {\n    style: [loginStyle.buttonText, {\n      color: \"#333\"\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 17\n    }\n  }, \"Add Card\")), React.createElement(ImageBackground, {\n    style: [globalStyle.Btn, {\n      width: '50%',\n      alignItems: \"center\"\n    }],\n    source: require(\"./../../../assets/Oval.png\"),\n    resizeMode: 'stretch',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 15\n    }\n  }, React.createElement(Button, {\n    style: [loginStyle.buttonSave, {\n      alignSelf: \"center\",\n      justifyContent: \"center\"\n    }],\n    onPress: function onPress() {\n      return props.navigation.navigate(\"Add Payment Account\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: [loginStyle.buttonText, {\n      textAlign: \"center\"\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 19\n    }\n  }, \"Add Account\")))) : null)));\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center'\n  },\n  horizontal: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    padding: 10\n  }\n});\nexport default PaymentMethodListings;","map":{"version":3,"sources":["/Users/tsingh/Desktop/Tapmeet-Projects/mastermind-mobile-app/src/components/screens/PaymentMethodListings.js"],"names":["React","API_URL","Container","Content","Form","Item","Input","Label","Button","Text","Body","H2","Icon","loginStyle","globalStyle","useSelector","SideBarMenu","DatePicker","moment","apiUrl","trim","PaymentMethodListings","props","userId","state","useState","loader","setloader","paymentMethod","setPaymentMethod","useEffect","navigation","addListener","length","getPersonId","fetch","method","headers","Accept","access_Token","then","response","json","data","getPaymentMethod","PersonId","personIds","value","container","spacing","contentContainer","styles","horizontal","map","payment","index","Expiry","Date","Expiration","toISOString","slice","Boxshadow","padding","textAlign","fontSize","fontWeight","marginBottom","PaymentTypeId","formField","formLabel","Nickname","formControls","Last4Digits","SecurityCode","tableBoxshadow","borderTopLeftRadius","borderTopRightRadius","marginTop","alignSelf","display","flexDirection","alignItems","buttonSecondarys","width","navigate","buttonText","color","Btn","require","buttonSave","justifyContent","StyleSheet","create","flex"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { View, Image, StyleSheet, ImageBackground, useWindowDimensions, ActivityIndicator } from \"react-native\";\nimport { API_URL } from \"../Utility/AppConst\"\nimport {\n  Container,\n  Content,\n  Form,\n  Item,\n  Input,\n  Label,\n  Button,\n  Text,\n  Body,\n  H2,\n  Icon,\n} from \"native-base\";\nimport loginStyle from \"../../style/login/loginStyle\";\nimport globalStyle from \"../../style/globalStyle\";\nimport { useSelector } from 'react-redux'\nimport { SideBarMenu } from \"../sidebar\";\nimport DatePicker from 'react-native-datepicker';\n\nimport moment from 'moment';\nconst apiUrl = API_URL.trim();\nconst PaymentMethodListings = (props) => {\n  const userId = useSelector(state => state);\n  const [loader, setloader] = React.useState(false);\n  const [paymentMethod, setPaymentMethod] = React.useState([])\n  React.useEffect(() => {\n    navigation.addListener('focus', () => {\n      setloader(true)\n      if (paymentMethod.length == 0) {\n        getPersonId()\n      }\n    });\n  })\n  function getPersonId() {\n    fetch(`${apiUrl}/odata/StudentAccount`, {\n      method: \"get\",\n      headers: {\n        Accept: \"*/*\",\n        \"Content-Type\": \"application/json\",\n        'Authorization': 'Bearer ' + userId[0].access_Token\n      },\n    })\n      .then(response => response.json())\n      .then(data => {\n        // console.log(\"here\")\n        // console.log(data.PersonId)\n        getPaymentMethod(data.PersonId)\n      });\n  }\n  function getPaymentMethod(personIds) {\n    fetch(`${apiUrl}/odata/People(${personIds})/PersonPaymentMethods`, {\n      method: \"get\",\n      headers: {\n        Accept: \"*/*\",\n        \"Content-Type\": \"application/json\",\n        'Authorization': 'Bearer ' + userId[0].access_Token\n      },\n    })\n      .then(response => response.json())\n      .then(data => {\n        // console.log(\"heres\")\n        // console.log(data.value)\n        if (data.value) {\n          setloader(false)\n          setPaymentMethod(data.value)\n        }\n        else {\n          setloader(false)\n        }\n\n      });\n  }\n  const { navigation } = props;\n  return (\n    <Container style={loginStyle.container}>\n      <SideBarMenu title={\"Payment Methods \"} navigation={props.navigation} />\n      <Content style={loginStyle.spacing}>\n        <View style={loginStyle.contentContainer}>\n          {loader ?\n            <View style={[styles.container, styles.horizontal]}>\n              <ActivityIndicator size=\"large\" color=\"#29ABE2\" />\n            </View>\n            :\n            paymentMethod.length > 0 ?\n              paymentMethod.map(function (payment, index) {\n                const Expiry = new Date(payment.Expiration).toISOString().slice(0, 10);\n                return (\n                  <View key={index} style={[globalStyle.Boxshadow, { padding: 15 }]}>\n                    <Text style={{ textAlign: \"center\", fontSize: 25, fontWeight: \"bold\", marginBottom: 10 }}>{payment.PaymentTypeId == 2 ? \"Bank Details \" : \"Credit card \"}</Text>\n                    {payment.PaymentTypeId != 2 ?\n                      <View>\n                        <View style={{ marginBottom: 15 }}>\n                          <View style={globalStyle.formField}>\n                            <Text style={globalStyle.formLabel}>Nickname </Text>\n                            <Input\n                              value={payment.Nickname}\n                              placeholderTextColor='#ccc'\n                              style={globalStyle.formControls\n                              }\n                              placeholder=\"Nickname\"\n                              editable={false}\n                            />\n                          </View>\n                        </View>\n                        <View style={{ marginBottom: 15 }}>\n                          <View style={globalStyle.formField}>\n                            <Text style={globalStyle.formLabel}>Card Number </Text>\n                            <Input\n                              value={\"XXXX-XXXX-XXXX-\" + payment.Last4Digits}\n                              keyboardType=\"number-pad\"\n                              placeholderTextColor='#ccc'\n                              style={globalStyle.formControls\n                              }\n                              placeholder=\"Card Number\"\n                              editable={false}\n                            />\n                          </View>\n                        </View>\n                        <View style={{ marginBottom: 25 }}>\n                          <View style={globalStyle.formField}>\n                            <Text style={globalStyle.formLabel}>Card Code </Text>\n                            <Input\n                              value={' ' + payment.SecurityCode}\n\n                              placeholderTextColor='#ccc'\n                              style={\n                                globalStyle.formControls\n                              }\n                              editable={false}\n                              placeholder=\"Card Code\"\n                            />\n                          </View>\n                        </View>\n                        <View style={{ marginBottom: 25 }}>\n                          <View style={globalStyle.formField}>\n                            <Text style={globalStyle.formLabel}>Card Expiration </Text>\n                            <Input\n                              value={Expiry}\n                              placeholderTextColor='#ccc'\n                              style={\n                                globalStyle.formControls\n                              }\n                              editable={false}\n                              placeholder=\"Card Expiration\"\n                            />\n                          </View>\n                        </View>\n                      </View>\n                      : <View>\n                        <View style={{ marginBottom: 15 }}>\n                          <View style={globalStyle.formField}>\n                            <Text style={globalStyle.formLabel}>Nickname </Text>\n                            <Input\n                              value={' ' + payment.Nickname}\n                              keyboardType=\"number-pad\"\n                              placeholderTextColor='#ccc'\n                              style={globalStyle.formControls\n                              }\n                              placeholder=\"Nickname\"\n                              editable={false}\n                            />\n                          </View>\n                        </View>\n                        <View style={{ marginBottom: 15 }}>\n                          <View style={globalStyle.formField}>\n                            <Text style={globalStyle.formLabel}>Account </Text>\n                            <Input\n                              value={\"XXXXXX-\" + payment.Last4Digits}\n                              placeholderTextColor='#ccc'\n                              style={globalStyle.formControls\n                              }\n                              placeholder=\"Account\"\n                              editable={false}\n                            />\n                          </View>\n                        </View>\n\n                      </View>\n                    }\n                  </View>\n                );\n              })\n              : <View style={[globalStyle.tableBoxshadow, {\n                borderTopLeftRadius: 15,\n                borderTopRightRadius: 15,\n                marginBottom:60,\n                marginTop: 60\n              }]}>\n                <Text style={{ padding: 15, fontSize: 22, alignSelf: \"center\" }}>No Payment Method Added</Text>\n              </View>\n          }\n          {loader == false\n            ?\n            <View style={{ display: \"flex\", flexDirection: \"row\", alignItems: \"center\", marginBottom: 50 }}>\n              <Button\n                style={[loginStyle.buttonSecondarys, { marginTop: 20, width: \"50%\" }]}\n                onPress={() => props.navigation.navigate(\"Payment Method Card\")}\n              >\n                <Text style={[loginStyle.buttonText, { color: \"#333\" }]}>Add Card</Text>\n              </Button>\n              <ImageBackground\n                style={[globalStyle.Btn, {\n                  width: '50%',\n                  alignItems: \"center\"\n                }]}\n                source={require('./../../../assets/Oval.png')}\n                resizeMode={'stretch'}\n              >\n                <Button\n                  style={[loginStyle.buttonSave, { alignSelf: \"center\", justifyContent: \"center\" }]}\n                  onPress={() => props.navigation.navigate(\"Add Payment Account\")}\n                >\n                  <Text style={[loginStyle.buttonText, { textAlign: \"center\" }]}>Add Account</Text>\n                </Button>\n              </ImageBackground>\n            </View>\n            : null}\n        </View>\n      </Content>\n    </Container>\n  );\n};\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n  },\n  horizontal: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    padding: 10,\n  },\n});\nexport default PaymentMethodListings;\n\n"]},"metadata":{},"sourceType":"module"}