{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/tsingh/Desktop/Tapmeet-Projects/mastermind-mobile-app/src/components/screens/SignUp.js\";\n\nimport React from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { Container, Content, Form, Item, Input, Label, Button, Text, Body, H3, Icon } from \"native-base\";\nimport loginStyle from \"../../style/login/loginStyle\";\nimport globalStyle from \"../../style/globalStyle\";\nimport { API_URL } from \"./../Utility/AppConst\";\nimport PhoneInput from 'react-phone-number-input/react-native-input';\n\nvar SignUp = function SignUp(props) {\n  var _React$useState = React.useState(\"\"),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      firstName = _React$useState2[0],\n      setFirstName = _React$useState2[1];\n\n  var _React$useState3 = React.useState(\"\"),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      lastName = _React$useState4[0],\n      setLastName = _React$useState4[1];\n\n  var _React$useState5 = React.useState(\"\"),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      schoolId = _React$useState6[0],\n      setSchoolId = _React$useState6[1];\n\n  var _React$useState7 = React.useState(\"\"),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      email = _React$useState8[0],\n      setEmail = _React$useState8[1];\n\n  var _React$useState9 = React.useState(\"\"),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      confirmEmail = _React$useState10[0],\n      setConfirmEmail = _React$useState10[1];\n\n  var _React$useState11 = React.useState(\"\"),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      mobile = _React$useState12[0],\n      setMobile = _React$useState12[1];\n\n  var _React$useState13 = React.useState(\"\"),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      password = _React$useState14[0],\n      setPassword = _React$useState14[1];\n\n  var _React$useState15 = React.useState(false),\n      _React$useState16 = _slicedToArray(_React$useState15, 2),\n      terms = _React$useState16[0],\n      setTerms = _React$useState16[1];\n\n  var _React$useState17 = React.useState(false),\n      _React$useState18 = _slicedToArray(_React$useState17, 2),\n      checkFirstname = _React$useState18[0],\n      setCheckFirstname = _React$useState18[1];\n\n  var _React$useState19 = React.useState(false),\n      _React$useState20 = _slicedToArray(_React$useState19, 2),\n      checkShoolId = _React$useState20[0],\n      setCheckShoolId = _React$useState20[1];\n\n  var _React$useState21 = React.useState(false),\n      _React$useState22 = _slicedToArray(_React$useState21, 2),\n      checkEmail = _React$useState22[0],\n      setCheckEmail = _React$useState22[1];\n\n  var _React$useState23 = React.useState(false),\n      _React$useState24 = _slicedToArray(_React$useState23, 2),\n      checkConfirmEmail = _React$useState24[0],\n      setCheckConfirmEmail = _React$useState24[1];\n\n  var _React$useState25 = React.useState(false),\n      _React$useState26 = _slicedToArray(_React$useState25, 2),\n      checkPassword = _React$useState26[0],\n      setCheckPassword = _React$useState26[1];\n\n  var _React$useState27 = React.useState(false),\n      _React$useState28 = _slicedToArray(_React$useState27, 2),\n      checkmobile = _React$useState28[0],\n      setCheckmobile = _React$useState28[1];\n\n  var _React$useState29 = React.useState(false),\n      _React$useState30 = _slicedToArray(_React$useState29, 2),\n      checkterms = _React$useState30[0],\n      setCheckterms = _React$useState30[1];\n\n  var _React$useState31 = React.useState(false),\n      _React$useState32 = _slicedToArray(_React$useState31, 2),\n      errorMessage = _React$useState32[0],\n      setErrorMessage = _React$useState32[1];\n\n  var _React$useState33 = React.useState(''),\n      _React$useState34 = _slicedToArray(_React$useState33, 2),\n      accessToken = _React$useState34[0],\n      setAccessToken = _React$useState34[1];\n\n  var ValidateEmail = function ValidateEmail(mail) {\n    return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(mail);\n  };\n\n  var setfirstName = function setfirstName(event) {\n    setFirstName(event);\n\n    if (event == \"\") {\n      setCheckFirstname(true);\n    } else {\n      setCheckFirstname(false);\n    }\n  };\n\n  var setlasttName = function setlasttName(event) {\n    setLastName(event);\n  };\n\n  var setschoolId = function setschoolId(event) {\n    setSchoolId(event);\n\n    if (event == \"\") {\n      setCheckShoolId(true);\n    } else {\n      setCheckShoolId(false);\n    }\n  };\n\n  var setemail = function setemail(event) {\n    setEmail(event);\n\n    if (event == \"\") {\n      setCheckEmail(true);\n    } else {\n      setCheckEmail(false);\n    }\n  };\n\n  var setconfirmemail = function setconfirmemail(event) {\n    setConfirmEmail(event);\n\n    if (event == \"\") {\n      setCheckConfirmEmail(true);\n    } else {\n      setCheckConfirmEmail(false);\n    }\n  };\n\n  var setpassword = function setpassword(event) {\n    setPassword(event);\n\n    if (event == \"\") {\n      setCheckPassword(true);\n    } else {\n      setCheckPassword(false);\n    }\n  };\n\n  var setmobile = function setmobile(event) {\n    setMobile(event);\n\n    if (event == \"\") {\n      setCheckmobile(true);\n    } else {\n      setCheckmobile(false);\n    }\n  };\n\n  var setterms = function setterms() {\n    setTerms(!terms);\n\n    if (terms == false) {\n      setCheckterms(false);\n    } else {\n      setCheckterms(true);\n    }\n  };\n\n  var submitForm = function submitForm() {\n    if (firstName == \"\") {\n      setCheckFirstname(true);\n      return false;\n    }\n\n    if (schoolId == \"\") {\n      setCheckShoolId(true);\n      return false;\n    }\n\n    if (email == \"\") {\n      setCheckEmail(true);\n      return false;\n    }\n\n    var checkemail = ValidateEmail(email);\n\n    if (checkemail == false) {\n      setCheckEmail(true);\n      return false;\n    }\n\n    if (confirmEmail == \"\") {\n      setCheckConfirmEmail(true);\n      return false;\n    }\n\n    var checkConfirmemail = ValidateEmail(confirmEmail);\n\n    if (checkConfirmemail == false) {\n      setCheckConfirmEmail(true);\n      return false;\n    }\n\n    if (email != confirmEmail) {\n      setCheckConfirmEmail(true);\n      return false;\n    }\n\n    if (password == \"\") {\n      setCheckPassword(true);\n      return false;\n    }\n\n    if (mobile == \"\") {\n      setCheckmobile(true);\n      return false;\n    }\n\n    if (terms == false) {\n      setCheckterms(true);\n      return false;\n    }\n\n    function login() {\n      var details = {\n        userName: email,\n        password: password,\n        grant_type: \"password\"\n      };\n      var formBody = [];\n\n      for (var property in details) {\n        var encodedKey = encodeURIComponent(property);\n        var encodedValue = encodeURIComponent(details[property]);\n        formBody.push(encodedKey + \"=\" + encodedValue);\n      }\n\n      formBody = formBody.join(\"&\");\n      fetch(API_URL + \"/token\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded;charset=UTF-8\"\n        },\n        body: formBody\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        console.log(response[\"access_token\"]);\n        setAccessToken(response[\"access_token\"]);\n        linkStudent();\n      }).catch(function (data) {\n        props.navigation.navigate(\"AccountSuccess\");\n      });\n    }\n\n    function linkStudent() {\n      fetch(API_URL + \"/odata/StudentLink\", {\n        method: \"post\",\n        headers: {\n          Accept: \"*/*\",\n          \"Content-Type\": \"application/json\",\n          'Authorization': 'Bearer ' + accessToken\n        },\n        body: JSON.stringify({\n          Email: email,\n          FirstName: firstName,\n          LastName: lastName\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        console.log(response);\n\n        if (response[\"odata.error\"]) {\n          props.navigation.navigate(\"AccountSuccess\");\n          console.log(response[\"odata.error\"].message.value);\n          setErrorMessage(response[\"odata.error\"].message.value);\n        } else {\n          props.navigation.navigate(\"VerificationLinkStudentSignup\", {\n            accessToken: accessToken,\n            studentAccountGuid: response[\"studentAccountGuid\"],\n            studentId: response[\"studentId\"],\n            Email: email,\n            FirstName: firstName,\n            LastName: lastName\n          });\n        }\n      }).catch(function (response) {\n        props.navigation.navigate(\"AccountSuccess\");\n      });\n    }\n\n    fetch(API_URL + \"/odata/Register\", {\n      method: \"post\",\n      headers: {\n        Accept: \"*/*\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        Email: email,\n        EmailConfirmed: confirmEmail,\n        Password: password,\n        SchoolUniqueId: schoolId,\n        FirstName: firstName,\n        LastName: lastName,\n        WaiverFile: \"some text\",\n        Phone1: mobile\n      })\n    }).then(function (response) {\n      return response.json();\n    }).then(function (response) {\n      console.log(response);\n\n      if (response[\"odata.error\"]) {\n        console.log(response[\"odata.error\"].message.value);\n        setErrorMessage(response[\"odata.error\"].message.value);\n      } else {\n        login();\n        props.navigation.navigate(\"AccountSuccess\");\n      }\n    }).catch(function (response) {\n      setErrorMessage(\"An error has occurred. Please check all the fields\");\n    });\n  };\n\n  var navigation = props.navigation.navigation;\n  return React.createElement(Container, {\n    style: loginStyle.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 5\n    }\n  }, React.createElement(Content, {\n    style: loginStyle.spacing,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 7\n    }\n  }, React.createElement(ImageBackground, {\n    style: {\n      width: \"100%\",\n      height: 240\n    },\n    source: require(\"./../../../assets/bg.png\"),\n    resizeMode: 'stretch',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: loginStyle.backWrapper,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    onPress: function onPress() {\n      return props.navigation.navigate(\"Login\");\n    },\n    style: loginStyle.backButtonStyle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 13\n    }\n  }, React.createElement(Image, {\n    style: loginStyle.backButton,\n    source: require(\"../../../assets/BackButton.png\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 15\n    }\n  }))), React.createElement(View, {\n    style: {\n      alignSelf: \"center\",\n      paddingTop: 70\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 11\n    }\n  }, React.createElement(Image, {\n    style: loginStyle.logo,\n    source: require(\"../../../assets/Logo.png\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 13\n    }\n  }))), React.createElement(View, {\n    style: {\n      paddingLeft: 30\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 9\n    }\n  }, React.createElement(H3, {\n    style: globalStyle.h3,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 11\n    }\n  }, \"Sign Up\")), React.createElement(Form, {\n    style: globalStyle.form,\n    padder: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 9\n    }\n  }, React.createElement(Item, {\n    style: globalStyle.formGroup,\n    floatingLabel: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 11\n    }\n  }, React.createElement(Input, {\n    value: firstName,\n    onChangeText: function onChangeText(text) {\n      return setfirstName(text);\n    },\n    placeholderTextColor: \"#ccc\",\n    style: checkFirstname ? globalStyle.formControlError : globalStyle.formControl,\n    placeholder: \"First Name\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 13\n    }\n  })), checkFirstname ? React.createElement(Text, {\n    style: globalStyle.error,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 13\n    }\n  }, \"Enter First Name\") : null, React.createElement(Item, {\n    style: globalStyle.formGroup,\n    floatingLabel: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 11\n    }\n  }, React.createElement(Input, {\n    value: lastName,\n    onChangeText: function onChangeText(text) {\n      return setlasttName(text);\n    },\n    placeholderTextColor: \"#ccc\",\n    style: globalStyle.formControl,\n    placeholder: \"Last Name\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 13\n    }\n  })), React.createElement(Item, {\n    style: globalStyle.formGroup,\n    floatingLabel: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 11\n    }\n  }, React.createElement(Input, {\n    value: schoolId,\n    onChangeText: function onChangeText(text) {\n      return setschoolId(text);\n    },\n    placeholderTextColor: \"#ccc\",\n    style: checkShoolId ? globalStyle.formControlError : globalStyle.formControl,\n    placeholder: \"School Id\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 13\n    }\n  })), checkShoolId ? React.createElement(Text, {\n    style: globalStyle.error,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 13\n    }\n  }, \"Enter School Id\") : null, React.createElement(Item, {\n    style: globalStyle.formGroup,\n    floatingLabel: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 11\n    }\n  }, React.createElement(Input, {\n    value: email,\n    autoCapitalize: \"none\",\n    onChangeText: function onChangeText(text) {\n      return setemail(text);\n    },\n    placeholderTextColor: \"#ccc\",\n    style: checkEmail ? globalStyle.formControlError : globalStyle.formControl,\n    placeholder: \"Email \",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 13\n    }\n  })), checkEmail ? React.createElement(Text, {\n    style: globalStyle.error,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 13\n    }\n  }, \"Enter Valid Email\") : null, React.createElement(Item, {\n    style: globalStyle.formGroup,\n    floatingLabel: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 11\n    }\n  }, React.createElement(Input, {\n    value: confirmEmail,\n    autoCapitalize: \"none\",\n    onChangeText: function onChangeText(text) {\n      return setconfirmemail(text);\n    },\n    placeholderTextColor: \"#ccc\",\n    style: checkConfirmEmail ? globalStyle.formControlError : globalStyle.formControl,\n    placeholder: \"Confirm Email \",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 13\n    }\n  })), checkConfirmEmail ? React.createElement(Text, {\n    style: globalStyle.error,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 13\n    }\n  }, \"Check Confirm Email\") : null, React.createElement(Item, {\n    style: globalStyle.formGroup,\n    floatingLabel: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 11\n    }\n  }, React.createElement(Input, {\n    secureTextEntry: true,\n    value: password,\n    onChangeText: function onChangeText(text) {\n      return setpassword(text);\n    },\n    placeholderTextColor: \"#ccc\",\n    style: checkPassword ? globalStyle.formControlError : globalStyle.formControl,\n    placeholder: \"Password \",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 13\n    }\n  })), checkPassword ? React.createElement(Text, {\n    style: globalStyle.error,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 13\n    }\n  }, \"Enter Password\") : null, React.createElement(Item, {\n    style: globalStyle.formGroup,\n    floatingLabel: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 11\n    }\n  }, React.createElement(Input, {\n    value: mobile,\n    onChangeText: function onChangeText(text) {\n      return setmobile(text);\n    },\n    placeholderTextColor: \"#ccc\",\n    style: checkmobile ? globalStyle.formControlError : globalStyle.formControl,\n    placeholder: \"Mobile \",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 13\n    }\n  })), checkmobile ? React.createElement(Text, {\n    style: globalStyle.error,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 13\n    }\n  }, \"Enter Mobile\") : null, React.createElement(View, {\n    style: loginStyle.radioSection,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 11\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: {\n      borderColor: \"#ddd\",\n      borderRadius: 5,\n      borderWidth: 2,\n      height: 25,\n      width: 28,\n      marginRight: 10\n    },\n    value: terms,\n    onPress: setterms,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 13\n    }\n  }, terms ? React.createElement(Image, {\n    style: {\n      height: 15,\n      marginRight: 0,\n      marginTop: 2\n    },\n    source: require(\"../../../assets/checkTick.png\"),\n    resizeMode: 'contain',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 24\n    }\n  }) : null), React.createElement(Text, {\n    style: loginStyle.text,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 13\n    }\n  }, \"I agree to the Terms and Conditions\")), checkterms ? React.createElement(Text, {\n    style: globalStyle.error,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 13\n    }\n  }, \"Please agree to the Terms and Conditions before proceed\") : null, errorMessage != \"\" ? React.createElement(Text, {\n    style: globalStyle.errorText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 13\n    }\n  }, errorMessage) : null, React.createElement(Content, {\n    style: loginStyle.formContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 11\n    }\n  }, React.createElement(Button, {\n    style: loginStyle.button,\n    onPress: submitForm,\n    full: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 443,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: loginStyle.buttonText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 15\n    }\n  }, \"Create An Account\"))))));\n};\n\nexport default SignUp;","map":{"version":3,"sources":["/Users/tsingh/Desktop/Tapmeet-Projects/mastermind-mobile-app/src/components/screens/SignUp.js"],"names":["React","Container","Content","Form","Item","Input","Label","Button","Text","Body","H3","Icon","loginStyle","globalStyle","API_URL","PhoneInput","SignUp","props","useState","firstName","setFirstName","lastName","setLastName","schoolId","setSchoolId","email","setEmail","confirmEmail","setConfirmEmail","mobile","setMobile","password","setPassword","terms","setTerms","checkFirstname","setCheckFirstname","checkShoolId","setCheckShoolId","checkEmail","setCheckEmail","checkConfirmEmail","setCheckConfirmEmail","checkPassword","setCheckPassword","checkmobile","setCheckmobile","checkterms","setCheckterms","errorMessage","setErrorMessage","accessToken","setAccessToken","ValidateEmail","mail","test","setfirstName","event","setlasttName","setschoolId","setemail","setconfirmemail","setpassword","setmobile","setterms","submitForm","checkemail","checkConfirmemail","login","details","userName","grant_type","formBody","property","encodedKey","encodeURIComponent","encodedValue","push","join","fetch","method","headers","body","then","response","json","console","log","linkStudent","catch","data","navigation","navigate","Accept","JSON","stringify","Email","FirstName","LastName","message","value","studentAccountGuid","studentId","EmailConfirmed","Password","SchoolUniqueId","WaiverFile","Phone1","container","spacing","width","height","require","backWrapper","backButtonStyle","backButton","alignSelf","paddingTop","logo","paddingLeft","h3","form","formGroup","text","formControlError","formControl","error","radioSection","borderColor","borderRadius","borderWidth","marginRight","marginTop","errorText","formContainer","button","buttonText"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { View, Image, StyleSheet, ImageBackground, TouchableOpacity } from \"react-native\";\nimport {\n  Container,\n  Content,\n  Form,\n  Item,\n  Input,\n  Label,\n  Button,\n  Text,\n  Body,\n  H3,\n  Icon,\n} from \"native-base\";\nimport loginStyle from \"../../style/login/loginStyle\";\nimport globalStyle from \"../../style/globalStyle\";\n//import CheckBox from \"@react-native-community/checkbox\";\nimport { API_URL } from \"./../Utility/AppConst\"\n\nimport PhoneInput from 'react-phone-number-input/react-native-input'\n\nconst SignUp = (props) => {\n  const [firstName, setFirstName] = React.useState(\"\");\n  const [lastName, setLastName] = React.useState(\"\");\n  const [schoolId, setSchoolId] = React.useState(\"\");\n  const [email, setEmail] = React.useState(\"\");\n  const [confirmEmail, setConfirmEmail] = React.useState(\"\");\n  const [mobile, setMobile] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n  const [terms, setTerms] = React.useState(false);\n  const [checkFirstname, setCheckFirstname] = React.useState(false);\n  const [checkShoolId, setCheckShoolId] = React.useState(false);\n  const [checkEmail, setCheckEmail] = React.useState(false);\n  const [checkConfirmEmail, setCheckConfirmEmail] = React.useState(false);\n  const [checkPassword, setCheckPassword] = React.useState(false);\n  const [checkmobile, setCheckmobile] = React.useState(false);\n  const [checkterms, setCheckterms] = React.useState(false);\n  const [errorMessage, setErrorMessage] = React.useState(false);\n  const [accessToken, setAccessToken] = React.useState('');\n  // Email validations custom\n  const ValidateEmail = (mail) => {\n    return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(mail);\n  };\n\n  // Setting data to variables and validations\n  const setfirstName = (event) => {\n    setFirstName(event);\n    if (event == \"\") {\n      setCheckFirstname(true);\n    } else {\n      setCheckFirstname(false);\n    }\n  };\n  const setlasttName = (event) => {\n    setLastName(event);\n  };\n  const setschoolId = (event) => {\n    setSchoolId(event);\n    if (event == \"\") {\n      setCheckShoolId(true);\n    } else {\n      setCheckShoolId(false);\n    }\n  };\n  const setemail = (event) => {\n    setEmail(event);\n    if (event == \"\") {\n      setCheckEmail(true);\n    } else {\n      setCheckEmail(false);\n    }\n  };\n  const setconfirmemail = (event) => {\n    setConfirmEmail(event);\n    if (event == \"\") {\n      setCheckConfirmEmail(true);\n    } else {\n      setCheckConfirmEmail(false);\n    }\n  };\n  const setpassword = (event) => {\n    setPassword(event);\n    if (event == \"\") {\n      setCheckPassword(true);\n    } else {\n      setCheckPassword(false);\n    }\n  };\n  const setmobile = (event) => {\n    setMobile(event);\n    if (event == \"\") {\n      setCheckmobile(true);\n    } else {\n      setCheckmobile(false);\n    }\n  };\n  const setterms = () => {\n    setTerms(!terms);\n    if (terms == false) {\n      setCheckterms(false);\n    } else {\n      setCheckterms(true);\n    }\n  };\n\n  //Form Submission\n  const submitForm = () => {\n    if (firstName == \"\") {\n      setCheckFirstname(true);\n      return false;\n    }\n    if (schoolId == \"\") {\n      setCheckShoolId(true);\n      return false;\n    }\n    if (email == \"\") {\n      setCheckEmail(true);\n      return false;\n    }\n    let checkemail = ValidateEmail(email);\n    if (checkemail == false) {\n      setCheckEmail(true);\n      return false;\n    }\n\n    if (confirmEmail == \"\") {\n      setCheckConfirmEmail(true);\n      return false;\n    }\n    let checkConfirmemail = ValidateEmail(confirmEmail);\n    if (checkConfirmemail == false) {\n      setCheckConfirmEmail(true);\n      return false;\n    }\n    if (email != confirmEmail) {\n      setCheckConfirmEmail(true);\n      return false;\n    }\n    if (password == \"\") {\n      setCheckPassword(true);\n      return false;\n    }\n    if (mobile == \"\") {\n      setCheckmobile(true);\n      return false;\n    }\n    if (terms == false) {\n      setCheckterms(true);\n      return false;\n    }\n    function login() {\n      var details = {\n        userName: email,\n        password: password,\n        grant_type: \"password\",\n      };\n\n      var formBody = [];\n      for (var property in details) {\n        var encodedKey = encodeURIComponent(property);\n        var encodedValue = encodeURIComponent(details[property]);\n        formBody.push(encodedKey + \"=\" + encodedValue);\n      }\n      formBody = formBody.join(\"&\");\n\n      fetch(`${API_URL}/token`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded;charset=UTF-8\",\n        },\n        body: formBody,\n      })\n        .then((response) => response.json())\n        .then((response) => {\n          console.log(response[\"access_token\"]);\n          setAccessToken(response[\"access_token\"])\n          linkStudent()\n        })\n        .catch(function (data) {\n          props.navigation.navigate(\"AccountSuccess\");\n        });\n    }\n\n    function linkStudent() {\n      fetch(`${API_URL}/odata/StudentLink`, {\n        method: \"post\",\n        headers: {\n          Accept: \"*/*\",\n          \"Content-Type\": \"application/json\",\n          'Authorization': 'Bearer ' + accessToken\n        },\n        body: JSON.stringify({\n          Email: email,\n          FirstName: firstName,\n          LastName: lastName,\n        }),\n      })\n        .then((response) => response.json())\n        .then((response) => {\n          console.log(response);\n          if (response[\"odata.error\"]) {\n            props.navigation.navigate(\"AccountSuccess\");\n            console.log(response[\"odata.error\"].message.value);\n            setErrorMessage(response[\"odata.error\"].message.value);\n          } else {\n            props.navigation.navigate(\"VerificationLinkStudentSignup\", {\n              accessToken: accessToken,\n              studentAccountGuid: response[\"studentAccountGuid\"],\n              studentId: response[\"studentId\"],\n              Email: email,\n              FirstName: firstName,\n              LastName: lastName,\n            });\n          }\n        })\n        .catch((response) => {\n          props.navigation.navigate(\"AccountSuccess\");\n        });\n    }\n    fetch(`${API_URL}/odata/Register`, {\n      method: \"post\",\n      headers: {\n        Accept: \"*/*\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        Email: email,\n        EmailConfirmed: confirmEmail,\n        Password: password,\n        SchoolUniqueId: schoolId,\n        FirstName: firstName,\n        LastName: lastName,\n        WaiverFile: \"some text\",\n        Phone1: mobile,\n      }),\n    })\n      .then((response) => response.json())\n      .then((response) => {\n        console.log(response);\n        if (response[\"odata.error\"]) {\n          console.log(response[\"odata.error\"].message.value);\n          setErrorMessage(response[\"odata.error\"].message.value);\n        } else {\n          login();\n          props.navigation.navigate(\"AccountSuccess\");\n        }\n      })\n      .catch((response) => {\n        setErrorMessage(\"An error has occurred. Please check all the fields\");\n      });\n  };\n\n  const { navigation } = props.navigation;\n  return (\n    <Container style={loginStyle.container}>\n      <Content style={loginStyle.spacing} >\n        <ImageBackground\n          style={{\n            width: \"100%\",\n            height: 240,\n          }}\n          source={require('./../../../assets/bg.png')}\n          resizeMode={'stretch'}\n        >\n          <View style={loginStyle.backWrapper}>\n            <Text\n              onPress={() => props.navigation.navigate(\"Login\")}\n              style={loginStyle.backButtonStyle}\n            >\n              <Image\n                style={loginStyle.backButton}\n                source={require(\"../../../assets/BackButton.png\")}\n              />\n            </Text>\n          </View>\n          <View style={{\n            alignSelf: \"center\",\n            paddingTop: 70\n          }}>\n            <Image\n              style={loginStyle.logo}\n              source={require(\"../../../assets/Logo.png\")}\n            />\n          </View>\n        </ImageBackground>\n        <View style={{ paddingLeft: 30 }}>\n          <H3 style={globalStyle.h3}>Sign Up</H3>\n        </View>\n        <Form style={globalStyle.form} padder>\n          <Item style={globalStyle.formGroup} floatingLabel>\n            <Input\n              value={firstName}\n              onChangeText={(text) => setfirstName(text)}\n              placeholderTextColor='#ccc'\n              style={\n                checkFirstname\n                  ? globalStyle.formControlError\n                  : globalStyle.formControl\n              }\n              placeholder=\"First Name\"\n            />\n          </Item>\n          {checkFirstname ? (\n            <Text style={globalStyle.error}>Enter First Name</Text>\n          ) : null}\n          <Item style={globalStyle.formGroup} floatingLabel>\n            <Input\n              value={lastName}\n              onChangeText={(text) => setlasttName(text)}\n              placeholderTextColor='#ccc'\n              style={globalStyle.formControl}\n              placeholder=\"Last Name\"\n            />\n          </Item>\n          <Item style={globalStyle.formGroup} floatingLabel>\n            <Input\n              value={schoolId}\n              onChangeText={(text) => setschoolId(text)}\n              placeholderTextColor='#ccc'\n              style={\n                checkShoolId\n                  ? globalStyle.formControlError\n                  : globalStyle.formControl\n              }\n              placeholder=\"School Id\"\n            />\n          </Item>\n          {checkShoolId ? (\n            <Text style={globalStyle.error}>Enter School Id</Text>\n          ) : null}\n          <Item style={globalStyle.formGroup} floatingLabel>\n            <Input\n              value={email}\n              autoCapitalize='none'\n              onChangeText={(text) => setemail(text)}\n              placeholderTextColor='#ccc'\n              style={\n                checkEmail\n                  ? globalStyle.formControlError\n                  : globalStyle.formControl\n              }\n              placeholder=\"Email \"\n            />\n          </Item>\n          {checkEmail ? (\n            <Text style={globalStyle.error}>Enter Valid Email</Text>\n          ) : null}\n          <Item style={globalStyle.formGroup} floatingLabel>\n            <Input\n              value={confirmEmail}\n              autoCapitalize='none'\n              onChangeText={(text) => setconfirmemail(text)}\n              placeholderTextColor='#ccc'\n              style={\n                checkConfirmEmail\n                  ? globalStyle.formControlError\n                  : globalStyle.formControl\n              }\n              placeholder=\"Confirm Email \"\n            />\n          </Item>\n          {checkConfirmEmail ? (\n            <Text style={globalStyle.error}>Check Confirm Email</Text>\n          ) : null}\n          <Item style={globalStyle.formGroup} floatingLabel>\n            <Input\n              secureTextEntry={true}\n              value={password}\n              onChangeText={(text) => setpassword(text)}\n              placeholderTextColor='#ccc'\n              style={\n                checkPassword\n                  ? globalStyle.formControlError\n                  : globalStyle.formControl\n              }\n              placeholder=\"Password \"\n            />\n          </Item>\n          {checkPassword ? (\n            <Text style={globalStyle.error}>Enter Password</Text>\n          ) : null}\n          <Item style={globalStyle.formGroup} floatingLabel>\n            <Input\n              value={mobile}\n              onChangeText={(text) => setmobile(text)}\n              placeholderTextColor='#ccc'\n              style={\n                checkmobile\n                  ? globalStyle.formControlError\n                  : globalStyle.formControl\n              }\n              placeholder=\"Mobile \"\n            />\n            {/* <PhoneInput\n              defaultCountry=\"US\"\n              placeholder=\"Enter phone number\"\n              value={mobile}\n              onChange={(text) => setmobile(text)}\n              style={\n                checkmobile\n                  ? globalStyle.formControlError\n                  : globalStyle.formControl\n              }\n            /> */}\n          </Item>\n          {checkmobile ? (\n            <Text style={globalStyle.error}>Enter Mobile</Text>\n          ) : null}\n          <View style={loginStyle.radioSection}>\n            {/* <CheckBox\n              disabled={false}\n              value={terms}\n              onChange={setterms}\n              \n              style={loginStyle.checkbox}\n            /> */}\n            <TouchableOpacity\n              style={{ borderColor: \"#ddd\", borderRadius: 5, borderWidth: 2, height: 25, width: 28, marginRight:10 }}\n              value={terms}\n              onPress={setterms}\n            >\n              {terms ? <Image\n                style={{ height: 15, marginRight: 0, marginTop: 2 }}\n                source={require(\"../../../assets/checkTick.png\")}\n                resizeMode={'contain'}\n              /> : null}\n            </TouchableOpacity>\n            <Text style={loginStyle.text}>\n              I agree to the Terms and Conditions\n            </Text>\n          </View>\n          {checkterms ? (\n            <Text style={globalStyle.error}>\n              Please agree to the Terms and Conditions before proceed\n            </Text>\n          ) : null}\n          {errorMessage != \"\" ? (\n            <Text style={globalStyle.errorText}>{errorMessage}</Text>\n          ) : null}\n\n          <Content style={loginStyle.formContainer}>\n            <Button style={loginStyle.button} onPress={submitForm} full>\n              <Text style={loginStyle.buttonText} >Create An Account</Text>\n            </Button>\n          </Content>\n        </Form>\n      </Content>\n    </Container>\n  );\n};\nexport default SignUp;\n"]},"metadata":{},"sourceType":"module"}