{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/tsingh/Desktop/Projects/mastermind-mobile-app/src/components/screens/LinkStudent.js\";\n\nimport React from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport { API_URL } from \"./../Utility/AppConst\";\nimport { Container, Content, Form, Item, Input, Label, Button, Text, Body, H2, Icon } from \"native-base\";\nimport loginStyle from \"../../style/login/loginStyle\";\nimport globalStyle from \"../../style/globalStyle\";\nimport { useSelector } from 'react-redux';\nimport { SideBarMenu } from \"../sidebar\";\n\nvar LinkStudent = function LinkStudent(props) {\n  var _React$useState = React.useState(\"\"),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      firstName = _React$useState2[0],\n      setFirstName = _React$useState2[1];\n\n  var _React$useState3 = React.useState(\"\"),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      lastName = _React$useState4[0],\n      setLastName = _React$useState4[1];\n\n  var _React$useState5 = React.useState(\"\"),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      email = _React$useState6[0],\n      setEmail = _React$useState6[1];\n\n  var _React$useState7 = React.useState(false),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      checkFirstname = _React$useState8[0],\n      setCheckFirstname = _React$useState8[1];\n\n  var _React$useState9 = React.useState(false),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      checklastName = _React$useState10[0],\n      setChecklastName = _React$useState10[1];\n\n  var _React$useState11 = React.useState(false),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      checkEmail = _React$useState12[0],\n      setCheckEmail = _React$useState12[1];\n\n  var _React$useState13 = React.useState(''),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      errorMessage = _React$useState14[0],\n      setErrorMessage = _React$useState14[1];\n\n  React.useEffect(function () {\n    navigation.addListener('focus', function () {\n      clearData();\n    });\n  });\n\n  var clearData = function clearData() {\n    setFirstName('');\n    setCheckFirstname(false);\n    setLastName('');\n    setEmail('');\n    setErrorMessage('');\n  };\n\n  var ValidateEmail = function ValidateEmail(mail) {\n    return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(mail);\n  };\n\n  var userId = useSelector(function (state) {\n    return state;\n  });\n\n  var setfirstName = function setfirstName(event) {\n    setFirstName(event);\n\n    if (event == \"\") {\n      setCheckFirstname(true);\n    } else {\n      setCheckFirstname(false);\n    }\n  };\n\n  var setlasttName = function setlasttName(event) {\n    setLastName(event);\n\n    if (event == \"\") {\n      setChecklastName(true);\n    } else {\n      setChecklastName(false);\n    }\n  };\n\n  var setemail = function setemail(event) {\n    setEmail(event);\n\n    if (event == \"\") {\n      setCheckEmail(true);\n    } else {\n      setCheckEmail(false);\n    }\n  };\n\n  var submitForm = function submitForm() {\n    if (firstName == \"\") {\n      setCheckFirstname(true);\n      return false;\n    }\n\n    if (lastName == \"\") {\n      setChecklastName(true);\n      return false;\n    }\n\n    if (email == \"\") {\n      setCheckEmail(true);\n      return false;\n    }\n\n    var apiUrl = API_URL.trim();\n    fetch(apiUrl + \"/odata/StudentLink\", {\n      method: \"post\",\n      headers: {\n        Accept: \"*/*\",\n        \"Content-Type\": \"application/json\",\n        'Authorization': 'Bearer ' + userId[0].access_Token\n      },\n      body: JSON.stringify({\n        Email: email,\n        FirstName: firstName,\n        LastName: lastName\n      })\n    }).then(function (response) {\n      return response.json();\n    }).then(function (response) {\n      if (response[\"odata.error\"]) {\n        console.log(response[\"odata.error\"].message.value);\n        setErrorMessage(response[\"odata.error\"].message.value);\n      } else {\n        props.navigation.navigate(\"Verification\", {\n          studentAccountGuid: response[\"studentAccountGuid\"],\n          studentId: response[\"studentId\"],\n          Email: email,\n          FirstName: firstName,\n          LastName: lastName\n        });\n      }\n    }).catch(function (response) {\n      setErrorMessage(\"An error has occurred. Please check all the fields\");\n    });\n  };\n\n  var navigation = props.navigation;\n  return React.createElement(Container, {\n    style: loginStyle.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 5\n    }\n  }, React.createElement(SideBarMenu, {\n    title: \"Link Student \",\n    navigation: props.navigation,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }\n  }), React.createElement(Content, {\n    style: loginStyle.spacing,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: loginStyle.contentContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }\n  }, React.createElement(Body, {\n    style: loginStyle.bodyContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: globalStyle.small,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }, \"Fill out the form below \")), React.createElement(Form, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    style: checkFirstname ? globalStyle.formFieldError : globalStyle.formField,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: globalStyle.formLabel,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 15\n    }\n  }, \"First Name\"), React.createElement(Input, {\n    value: firstName,\n    onChangeText: function onChangeText(text) {\n      return setfirstName(text);\n    },\n    style: globalStyle.formControls,\n    placeholder: \"Enter your first name\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 15\n    }\n  })), checkFirstname ? React.createElement(Text, {\n    style: globalStyle.error,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 15\n    }\n  }, \"Enter First Name\") : null, React.createElement(View, {\n    style: checklastName ? globalStyle.formFieldError : globalStyle.formField,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: globalStyle.formLabel,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 15\n    }\n  }, \"Last Name\"), React.createElement(Input, {\n    value: lastName,\n    onChangeText: function onChangeText(text) {\n      return setlasttName(text);\n    },\n    style: globalStyle.formControls,\n    placeholder: \"Enter your last name\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 15\n    }\n  })), checklastName ? React.createElement(Text, {\n    style: globalStyle.error,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 15\n    }\n  }, \"Enter Last Name \") : null, React.createElement(View, {\n    style: checkEmail ? globalStyle.formFieldError : globalStyle.formField,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: globalStyle.formLabel,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 15\n    }\n  }, \"Email\"), React.createElement(Input, {\n    value: email,\n    onChangeText: function onChangeText(text) {\n      return setemail(text);\n    },\n    style: globalStyle.formControls,\n    placeholder: \"Enter your email address \",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 15\n    }\n  })), checkEmail ? React.createElement(Text, {\n    style: globalStyle.error,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 15\n    }\n  }, \"Enter Valid Email\") : null, errorMessage != \"\" ? React.createElement(Text, {\n    style: [globalStyle.errorText, {\n      marginTop: 15\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 15\n    }\n  }, errorMessage) : null, React.createElement(Content, {\n    style: loginStyle.formContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 13\n    }\n  }, React.createElement(ImageBackground, {\n    style: [globalStyle.Btn, {\n      width: '100%'\n    }],\n    source: require(\"./../../../assets/Oval.png\"),\n    resizeMode: 'stretch',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 15\n    }\n  }, React.createElement(Button, {\n    onPress: submitForm,\n    style: loginStyle.buttons,\n    full: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: loginStyle.buttonText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 19\n    }\n  }, \"Link Student\"))))))));\n};\n\nexport default LinkStudent;","map":{"version":3,"sources":["/Users/tsingh/Desktop/Projects/mastermind-mobile-app/src/components/screens/LinkStudent.js"],"names":["React","API_URL","Container","Content","Form","Item","Input","Label","Button","Text","Body","H2","Icon","loginStyle","globalStyle","useSelector","SideBarMenu","LinkStudent","props","useState","firstName","setFirstName","lastName","setLastName","email","setEmail","checkFirstname","setCheckFirstname","checklastName","setChecklastName","checkEmail","setCheckEmail","errorMessage","setErrorMessage","useEffect","navigation","addListener","clearData","ValidateEmail","mail","test","userId","state","setfirstName","event","setlasttName","setemail","submitForm","apiUrl","trim","fetch","method","headers","Accept","access_Token","body","JSON","stringify","Email","FirstName","LastName","then","response","json","console","log","message","value","navigate","studentAccountGuid","studentId","catch","container","spacing","contentContainer","bodyContainer","small","formFieldError","formField","formLabel","text","formControls","error","errorText","marginTop","formContainer","Btn","width","require","buttons","buttonText"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { View, Image, StyleSheet, ImageBackground } from \"react-native\";\nimport { API_URL } from \"./../Utility/AppConst\"\nimport {\n  Container,\n  Content,\n  Form,\n  Item,\n  Input,\n  Label,\n  Button,\n  Text,\n  Body,\n  H2,\n  Icon,\n} from \"native-base\";\nimport loginStyle from \"../../style/login/loginStyle\";\nimport globalStyle from \"../../style/globalStyle\";\nimport { useSelector } from 'react-redux'\nimport { SideBarMenu } from \"../sidebar\";\nconst LinkStudent = (props) => {\n  const [firstName, setFirstName] = React.useState(\"\");\n  const [lastName, setLastName] = React.useState(\"\");\n  const [email, setEmail] = React.useState(\"\");\n  const [checkFirstname, setCheckFirstname] = React.useState(false);\n  const [checklastName, setChecklastName] = React.useState(false);\n  const [checkEmail, setCheckEmail] = React.useState(false);\n  const [errorMessage, setErrorMessage] = React.useState('');\n  React.useEffect(() => {\n    navigation.addListener('focus', () => {\n      clearData()\n    })\n  })\n  const clearData = () => { \n    setFirstName('');\n    setCheckFirstname(false)\n    setLastName('');\n    setEmail('');\n    setErrorMessage('')\n  }\n  const ValidateEmail = (mail) => {\n    return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(mail);\n  };\n  const userId = useSelector(state => state);\n  // Setting data to variables and validations\n  const setfirstName = (event) => {\n    setFirstName(event);\n    if (event == \"\") {\n      setCheckFirstname(true);\n    } else {\n      setCheckFirstname(false);\n    }\n  };\n\n  const setlasttName = (event) => {\n    setLastName(event);\n    if (event == \"\") {\n      setChecklastName(true);\n    } else {\n      setChecklastName(false);\n    }\n  };\n  const setemail = (event) => {\n    setEmail(event);\n    if (event == \"\") {\n      setCheckEmail(true);\n    } else {\n      setCheckEmail(false);\n    }\n  };\n  //Form Submission\n  const submitForm = () => {\n    //props.navigation.navigate(\"StudentLinkSuccess\");\n    if (firstName == \"\") {\n      setCheckFirstname(true);\n      return false;\n    }\n    if (lastName == \"\") {\n      setChecklastName(true)\n      return false;\n    }\n    if (email == \"\") {\n      setCheckEmail(true);\n      return false;\n    }\n\n    const apiUrl = API_URL.trim();\n    //console.log(\"herer\")\n    fetch(`${apiUrl}/odata/StudentLink`, {\n      method: \"post\",\n      headers: {\n        Accept: \"*/*\",\n        \"Content-Type\": \"application/json\",\n        'Authorization': 'Bearer ' + userId[0].access_Token\n      },\n      body: JSON.stringify({\n        Email: email,\n        FirstName: firstName,\n        LastName: lastName,\n      }),\n     })\n    .then((response) => response.json())\n    .then((response) => {\n      if (response[\"odata.error\"]) {\n        console.log(response[\"odata.error\"].message.value);\n        setErrorMessage(response[\"odata.error\"].message.value);\n      } else {\n        props.navigation.navigate(\"Verification\", {\n          studentAccountGuid: response[\"studentAccountGuid\"],\n          studentId: response[\"studentId\"],\n          Email: email,\n          FirstName: firstName,\n          LastName: lastName,\n        });\n      }\n    })\n    .catch((response) => {\n  //    console.log(response);\n      setErrorMessage(\"An error has occurred. Please check all the fields\");\n    });\n\n     //   .then((response) => {\n    //     let jsonData = JSON.stringify(response);\n    //     let jsonDataPrase = JSON.parse(jsonData);\n    //     console.log(jsonDataPrase)\n    //     if (jsonDataPrase.status != 200) {\n    //       setErrorMessage(\"An error has occurred.\");\n    //     } else {\n    //       props.navigation.navigate(\"Verification\", {\n    //         studentAccountGuid: response[\"studentAccountGuid\"],\n    //         studentId: response[\"studentId\"],\n    //         Email: email,\n    //         FirstName: firstName,\n    //         LastName: lastName,\n    //       });\n    //     }\n    //   })\n    //   .catch((response) => {\n    //     setErrorMessage(\"An error has occurred.\");\n    //   });\n  };\n  const { navigation } = props;\n  return (\n    <Container style={loginStyle.container}>\n      <SideBarMenu title={\"Link Student \"} navigation={props.navigation} />\n      <Content style={loginStyle.spacing}>\n        <View style={loginStyle.contentContainer}>\n          <Body style={loginStyle.bodyContainer}>\n            <Text style={globalStyle.small}>Fill out the form below </Text>\n          </Body>\n          <Form >\n            <View style={checkFirstname\n              ? globalStyle.formFieldError : globalStyle.formField}>\n              <Text style={globalStyle.formLabel}>First Name</Text>\n              <Input\n                value={firstName}\n                onChangeText={(text) => setfirstName(text)}\n                style={\n                  globalStyle.formControls\n                }\n                placeholder=\"Enter your first name\"\n              />\n            </View>\n            {checkFirstname ? (\n              <Text style={globalStyle.error}>Enter First Name</Text>\n            ) : null}\n            <View style={checklastName\n              ? globalStyle.formFieldError : globalStyle.formField}>\n              <Text style={globalStyle.formLabel}>Last Name</Text>\n              <Input\n                value={lastName}\n                onChangeText={(text) => setlasttName(text)}\n                style={\n                  globalStyle.formControls\n                }\n                placeholder=\"Enter your last name\"\n              />\n            </View>\n            {checklastName ? (\n              <Text style={globalStyle.error}>Enter Last Name </Text>\n            ) : null}\n            <View style={checkEmail\n              ? globalStyle.formFieldError : globalStyle.formField}>\n              <Text style={globalStyle.formLabel}>Email</Text>\n              <Input\n                value={email}\n                onChangeText={(text) => setemail(text)}\n                style={\n                  globalStyle.formControls\n                }\n                placeholder=\"Enter your email address \"\n              />\n            </View>\n            {checkEmail ? (\n              <Text style={globalStyle.error}>Enter Valid Email</Text>\n            ) : null}\n            {errorMessage != \"\" ? (\n              <Text style={[globalStyle.errorText, { marginTop: 15 }]}>{errorMessage}</Text>\n            ) : null}\n            <Content style={loginStyle.formContainer}>\n\n              <ImageBackground\n                style={[globalStyle.Btn, {\n                  width: '100%'\n                }]}\n                source={require('./../../../assets/Oval.png')}\n                resizeMode={'stretch'}\n\n              >\n                <Button onPress={submitForm} style={loginStyle.buttons} full>\n                  <Text style={loginStyle.buttonText} >Link Student</Text>\n                </Button>\n              </ImageBackground>\n            </Content>\n          </Form>\n        </View>\n      </Content>\n    </Container>\n  );\n};\nexport default LinkStudent;\n"]},"metadata":{},"sourceType":"module"}