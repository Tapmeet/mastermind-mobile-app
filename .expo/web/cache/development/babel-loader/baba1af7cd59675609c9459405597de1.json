{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"E:\\\\Projects\\\\Mastermind-app\\\\Mastermind-App\\\\Mastermind\\\\src\\\\components\\\\screens\\\\LinkStudent.js\";\n\nimport React from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport { Container, Content, Form, Item, Input, Label, Button, Text, Body, H2, Icon } from \"native-base\";\nimport loginStyle from \"../../style/login/loginStyle\";\nimport globalStyle from \"../../style/globalStyle\";\nimport { useSelector } from 'react-redux';\nimport { SideBarMenu } from \"../sidebar\";\n\nvar LinkStudent = function LinkStudent(props) {\n  var _React$useState = React.useState(\"\"),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      firstName = _React$useState2[0],\n      setFirstName = _React$useState2[1];\n\n  var _React$useState3 = React.useState(\"\"),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      lastName = _React$useState4[0],\n      setLastName = _React$useState4[1];\n\n  var _React$useState5 = React.useState(\"\"),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      email = _React$useState6[0],\n      setEmail = _React$useState6[1];\n\n  var _React$useState7 = React.useState(false),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      checkFirstname = _React$useState8[0],\n      setCheckFirstname = _React$useState8[1];\n\n  var _React$useState9 = React.useState(false),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      checklastName = _React$useState10[0],\n      setChecklastName = _React$useState10[1];\n\n  var _React$useState11 = React.useState(false),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      checkEmail = _React$useState12[0],\n      setCheckEmail = _React$useState12[1];\n\n  var _React$useState13 = React.useState(''),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      errorMessage = _React$useState14[0],\n      setErrorMessage = _React$useState14[1];\n\n  var ValidateEmail = function ValidateEmail(mail) {\n    return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(mail);\n  };\n\n  var userId = useSelector(function (state) {\n    return state;\n  });\n\n  var setfirstName = function setfirstName(event) {\n    setFirstName(event);\n\n    if (event == \"\") {\n      setCheckFirstname(true);\n    } else {\n      setCheckFirstname(false);\n    }\n  };\n\n  var setlasttName = function setlasttName(event) {\n    setLastName(event);\n\n    if (event == \"\") {\n      setChecklastName(true);\n    } else {\n      setChecklastName(false);\n    }\n  };\n\n  var setemail = function setemail(event) {\n    setEmail(event);\n\n    if (event == \"\") {\n      setCheckEmail(true);\n    } else {\n      setCheckEmail(false);\n    }\n  };\n\n  var submitForm = function submitForm() {\n    if (firstName == \"\") {\n      setCheckFirstname(true);\n      return false;\n    }\n\n    if (lastName == \"\") {\n      setChecklastName(true);\n      return false;\n    }\n\n    if (email == \"\") {\n      setCheckEmail(true);\n      return false;\n    }\n\n    var apiUrl = \"http://192.168.18.22:45455/\".trim();\n    fetch(apiUrl + \"/odata/StudentLink\", {\n      method: \"post\",\n      headers: {\n        Accept: \"*/*\",\n        \"Content-Type\": \"application/json\",\n        'Authorization': 'Bearer ' + userId[0].access_Token\n      },\n      body: JSON.stringify({\n        Email: email,\n        FirstName: firstName,\n        LastName: lastName\n      })\n    }).then(function (response) {\n      return response.json();\n    }).then(function (response) {\n      console.log(response);\n\n      if (response[\"odata.error\"]) {\n        console.log(response[\"odata.error\"].message.value);\n        setErrorMessage(response[\"odata.error\"].message.value);\n      } else {\n        props.navigation.navigate(\"Verification\", {\n          studentAccountGuid: response[\"studentAccountGuid\"],\n          studentId: response[\"studentId\"],\n          Email: email,\n          FirstName: firstName,\n          LastName: lastName\n        });\n      }\n    }).catch(function (response) {\n      console.log(response);\n      setErrorMessage(\"An error has occurred. Please check all the fields\");\n    });\n  };\n\n  var navigation = props.navigation;\n  return React.createElement(Container, {\n    style: loginStyle.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 5\n    }\n  }, React.createElement(SideBarMenu, {\n    title: \"Link Student \",\n    navigation: props.navigation,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }\n  }), React.createElement(Content, {\n    style: loginStyle.spacing,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }\n  }, React.createElement(ImageBackground, {\n    style: {\n      width: \"100%\",\n      height: 150,\n      position: \"absolute\"\n    },\n    source: require(\"./../../../assets/bg3.png\"),\n    resizeMode: 'stretch',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }\n  }), React.createElement(View, {\n    style: loginStyle.contentContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  }, React.createElement(Body, {\n    style: loginStyle.bodyContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 11\n    }\n  }, React.createElement(H2, {\n    style: globalStyle.h3,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }, \"Link Student!\"), React.createElement(Text, {\n    style: globalStyle.small,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }, \"Fill out the form below \")), React.createElement(Form, {\n    style: globalStyle.form,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 11\n    }\n  }, React.createElement(Item, {\n    style: globalStyle.formGroup,\n    floatingLabel: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, React.createElement(Input, {\n    value: firstName,\n    onChangeText: function onChangeText(text) {\n      return setfirstName(text);\n    },\n    style: checkFirstname ? globalStyle.formControlError : globalStyle.formControl,\n    placeholder: \"First Name\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 15\n    }\n  })), checkFirstname ? React.createElement(Text, {\n    style: globalStyle.error,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 15\n    }\n  }, \"Enter First Name\") : null, React.createElement(Item, {\n    style: globalStyle.formGroup,\n    floatingLabel: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }\n  }, React.createElement(Input, {\n    value: lastName,\n    onChangeText: function onChangeText(text) {\n      return setlasttName(text);\n    },\n    style: globalStyle.formControl,\n    placeholder: \"Last Name\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 15\n    }\n  })), checklastName ? React.createElement(Text, {\n    style: globalStyle.error,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 15\n    }\n  }, \"Enter Last Name \") : null, React.createElement(Item, {\n    style: globalStyle.formGroup,\n    floatingLabel: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }, React.createElement(Input, {\n    value: email,\n    onChangeText: function onChangeText(text) {\n      return setemail(text);\n    },\n    style: checkEmail ? globalStyle.formControlError : globalStyle.formControl,\n    placeholder: \"Email \",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 15\n    }\n  })), checkEmail ? React.createElement(Text, {\n    style: globalStyle.error,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 15\n    }\n  }, \"Enter Valid Email\") : null, React.createElement(Content, {\n    style: loginStyle.formContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 13\n    }\n  }, React.createElement(Button, {\n    onPress: submitForm,\n    style: loginStyle.button,\n    full: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 15\n    }\n  }, React.createElement(Text, {\n    style: loginStyle.buttonText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 17\n    }\n  }, \"Link Student\")))))));\n};\n\nexport default LinkStudent;","map":{"version":3,"sources":["E:/Projects/Mastermind-app/Mastermind-App/Mastermind/src/components/screens/LinkStudent.js"],"names":["React","Container","Content","Form","Item","Input","Label","Button","Text","Body","H2","Icon","loginStyle","globalStyle","useSelector","SideBarMenu","LinkStudent","props","useState","firstName","setFirstName","lastName","setLastName","email","setEmail","checkFirstname","setCheckFirstname","checklastName","setChecklastName","checkEmail","setCheckEmail","errorMessage","setErrorMessage","ValidateEmail","mail","test","userId","state","setfirstName","event","setlasttName","setemail","submitForm","apiUrl","trim","fetch","method","headers","Accept","access_Token","body","JSON","stringify","Email","FirstName","LastName","then","response","json","console","log","message","value","navigation","navigate","studentAccountGuid","studentId","catch","container","spacing","width","height","position","require","contentContainer","bodyContainer","h3","small","form","formGroup","text","formControlError","formControl","error","formContainer","button","buttonText"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { View, Image, StyleSheet, ImageBackground } from \"react-native\";\nimport { API_URL } from \"@env\"\nimport {\n  Container,\n  Content,\n  Form,\n  Item,\n  Input,\n  Label,\n  Button,\n  Text,\n  Body,\n  H2,\n  Icon,\n} from \"native-base\";\nimport loginStyle from \"../../style/login/loginStyle\";\nimport globalStyle from \"../../style/globalStyle\";\nimport { useSelector } from 'react-redux'\nimport { SideBarMenu } from \"../sidebar\";\nconst LinkStudent = (props) => {\n  const [firstName, setFirstName] = React.useState(\"\");\n  const [lastName, setLastName] = React.useState(\"\");\n  const [email, setEmail] = React.useState(\"\");\n  const [checkFirstname, setCheckFirstname] = React.useState(false);\n  const [checklastName, setChecklastName] = React.useState(false);\n  const [checkEmail, setCheckEmail] = React.useState(false);\n  const [errorMessage, setErrorMessage] = React.useState('');\n  const ValidateEmail = (mail) => {\n    return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(mail);\n  };\n  const userId = useSelector(state => state);\n  // Setting data to variables and validations\n  const setfirstName = (event) => {\n    setFirstName(event);\n    if (event == \"\") {\n      setCheckFirstname(true);\n    } else {\n      setCheckFirstname(false);\n    }\n  };\n\n  const setlasttName = (event) => {\n    setLastName(event);\n    if (event == \"\") {\n      setChecklastName(true);\n    } else {\n      setChecklastName(false);\n    }\n  };\n  const setemail = (event) => {\n    setEmail(event);\n    if (event == \"\") {\n      setCheckEmail(true);\n    } else {\n      setCheckEmail(false);\n    }\n  };\n  //Form Submission\n  const submitForm = () => {\n    if (firstName == \"\") {\n      setCheckFirstname(true);\n      return false;\n    }\n    if (lastName == \"\") {\n      setChecklastName(true)\n      return false;\n    }\n    if (email == \"\") {\n      setCheckEmail(true);\n      return false;\n    }\n\n    const apiUrl =API_URL.trim();\n    fetch(`${apiUrl}/odata/StudentLink`, {\n      method: \"post\",\n      headers: {\n        Accept: \"*/*\",\n        \"Content-Type\": \"application/json\",\n        'Authorization': 'Bearer ' + userId[0].access_Token\n      },\n      body: JSON.stringify({\n        Email: email,\n        FirstName: firstName,\n        LastName: lastName,\n      }),\n    })\n      .then((response) => response.json())\n      .then((response) => {\n        console.log(response);\n        if (response[\"odata.error\"]) {\n          console.log(response[\"odata.error\"].message.value);\n          setErrorMessage(response[\"odata.error\"].message.value);\n        } else {\n          props.navigation.navigate(\"Verification\", {\n            studentAccountGuid: response[\"studentAccountGuid\"],\n            studentId: response[\"studentId\"],\n            Email: email,\n            FirstName: firstName,\n            LastName: lastName,\n          });\n        }\n      })\n      .catch((response) => {\n        console.log(response);\n        setErrorMessage(\"An error has occurred. Please check all the fields\");\n      });\n  };\n  const { navigation } = props;\n  return (\n    <Container style={loginStyle.container}>\n      <SideBarMenu title={\"Link Student \"} navigation={props.navigation} />\n      <Content style={loginStyle.spacing}>\n        <ImageBackground\n          style={{\n            width: \"100%\",\n            height: 150,\n            position: \"absolute\"\n          }}\n          source={require('./../../../assets/bg3.png')}\n          resizeMode={'stretch'}\n        >\n        </ImageBackground>\n\n        <View style={loginStyle.contentContainer}>\n\n          <Body style={loginStyle.bodyContainer}>\n            <H2 style={globalStyle.h3}>Link Student!</H2>\n            <Text style={globalStyle.small}>Fill out the form below </Text>\n          </Body>\n          <Form style={globalStyle.form}>\n            <Item style={globalStyle.formGroup} floatingLabel>\n              <Input\n                value={firstName}\n                onChangeText={(text) => setfirstName(text)}\n                style={\n                  checkFirstname\n                    ? globalStyle.formControlError\n                    : globalStyle.formControl\n                }\n                placeholder=\"First Name\"\n              />\n            </Item>\n            {checkFirstname ? (\n              <Text style={globalStyle.error}>Enter First Name</Text>\n            ) : null}\n            <Item style={globalStyle.formGroup} floatingLabel>\n              <Input\n                value={lastName}\n                onChangeText={(text) => setlasttName(text)}\n                style={globalStyle.formControl}\n                placeholder=\"Last Name\"\n              />\n            </Item>\n            {checklastName ? (\n              <Text style={globalStyle.error}>Enter Last Name </Text>\n            ) : null}\n            <Item style={globalStyle.formGroup} floatingLabel>\n              <Input\n                value={email}\n                onChangeText={(text) => setemail(text)}\n                style={\n                  checkEmail\n                    ? globalStyle.formControlError\n                    : globalStyle.formControl\n                }\n                placeholder=\"Email \"\n              />\n            </Item>\n            {checkEmail ? (\n              <Text style={globalStyle.error}>Enter Valid Email</Text>\n            ) : null}\n            <Content style={loginStyle.formContainer}>\n              <Button onPress={submitForm} style={loginStyle.button} full>\n                <Text style={loginStyle.buttonText} >Link Student</Text>\n              </Button>\n            </Content>\n          </Form>\n        </View>\n      </Content>\n    </Container>\n  );\n};\nexport default LinkStudent;\n"]},"metadata":{},"sourceType":"module"}