{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/tsingh/Desktop/Tapmeet-Projects/mastermind-mobile-app/src/components/screens/AddPaymentMethod.js\";\n\nimport React from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport useWindowDimensions from \"react-native-web/dist/exports/useWindowDimensions\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { API_URL } from \"../Utility/AppConst\";\nimport { Container, Content, Form, Item, Input, Label, Button, Text, Body, H2, Icon } from \"native-base\";\nimport loginStyle from \"../../style/login/loginStyle\";\nimport globalStyle from \"../../style/globalStyle\";\nimport { useSelector } from 'react-redux';\nimport { SideBarMenu } from \"../sidebar\";\nimport DatePicker from 'react-native-datepicker';\nimport moment from 'moment';\nvar apiUrl = API_URL.trim();\n\nvar AddPaymentMethod = function AddPaymentMethod(props) {\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      loader = _React$useState2[0],\n      setloader = _React$useState2[1];\n\n  var _React$useState3 = React.useState(''),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      Nickname = _React$useState4[0],\n      setNickname = _React$useState4[1];\n\n  var _React$useState5 = React.useState(''),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      CardNumber = _React$useState6[0],\n      setCardNumber = _React$useState6[1];\n\n  var _React$useState7 = React.useState(''),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      CardCode = _React$useState8[0],\n      setCardCode = _React$useState8[1];\n\n  var _React$useState9 = React.useState(''),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      CardExpiration = _React$useState10[0],\n      setCardExpiration = _React$useState10[1];\n\n  var _React$useState11 = React.useState(false),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      checkNickname = _React$useState12[0],\n      setCheckNickname = _React$useState12[1];\n\n  var _React$useState13 = React.useState(false),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      checkCardnumber = _React$useState14[0],\n      setCheckCardnumber = _React$useState14[1];\n\n  var _React$useState15 = React.useState(false),\n      _React$useState16 = _slicedToArray(_React$useState15, 2),\n      checkCardCode = _React$useState16[0],\n      setCheckCardCode = _React$useState16[1];\n\n  var _React$useState17 = React.useState(false),\n      _React$useState18 = _slicedToArray(_React$useState17, 2),\n      checkCardExpiration = _React$useState18[0],\n      setCheckCardExpiration = _React$useState18[1];\n\n  var _React$useState19 = React.useState(''),\n      _React$useState20 = _slicedToArray(_React$useState19, 2),\n      SuccessMessage = _React$useState20[0],\n      setSuccessMessage = _React$useState20[1];\n\n  var _React$useState21 = React.useState(''),\n      _React$useState22 = _slicedToArray(_React$useState21, 2),\n      errorMessage = _React$useState22[0],\n      setErrorMessage = _React$useState22[1];\n\n  var userId = useSelector(function (state) {\n    return state;\n  });\n\n  var _React$useState23 = React.useState(''),\n      _React$useState24 = _slicedToArray(_React$useState23, 2),\n      date = _React$useState24[0],\n      setDate = _React$useState24[1];\n\n  React.useEffect(function () {\n    navigation.addListener('focus', function () {\n      clearData();\n    });\n  });\n\n  var clearData = function clearData() {\n    setNickname('');\n    setCardNumber('');\n    setCardCode('');\n    setCardExpiration('');\n  };\n\n  var setnickname = function setnickname(event) {\n    setNickname(event);\n\n    if (event == \"\") {\n      setCheckNickname(true);\n    } else {\n      setCheckNickname(false);\n    }\n  };\n\n  var setcardNumber = function setcardNumber(event) {\n    setCardNumber(event);\n\n    if (event == \"\") {\n      setCheckCardnumber(true);\n    } else {\n      setCheckCardnumber(false);\n    }\n  };\n\n  var setcardCode = function setcardCode(event) {\n    setCardCode(event);\n\n    if (event == \"\") {\n      setCheckCardCode(true);\n    } else {\n      setCheckCardCode(false);\n    }\n  };\n\n  var addMethod = function addMethod() {\n    setErrorMessage('');\n    setSuccessMessage('');\n\n    if (Nickname == \"\") {\n      setCheckNickname(true);\n      return false;\n    }\n\n    if (CardNumber == \"\") {\n      setCheckCardnumber(true);\n      return false;\n    }\n\n    if (CardCode == \"\") {\n      setCheckCardCode(true);\n      return false;\n    }\n\n    if (CardExpiration == \"\") {\n      setCheckCardExpiration(true);\n      return false;\n    }\n\n    fetch(apiUrl + \"/odata/PaymentMethod\", {\n      method: \"post\",\n      headers: {\n        Accept: \"*/*\",\n        \"Content-Type\": \"application/json\",\n        'Authorization': 'Bearer ' + userId[0].access_Token\n      },\n      body: JSON.stringify({\n        \"PersonPaymentMethodId\": 0,\n        \"Nickname\": Nickname,\n        \"CardNumber\": CardNumber,\n        \"CardCode\": CardCode,\n        \"PaymentType\": \"1\",\n        \"CardExpiration\": CardExpiration\n      })\n    }).then(function (response) {\n      return response.json();\n    }).then(function (response) {\n      console.log(response);\n\n      if (response[\"odata.error\"]) {\n        console.log(response[\"odata.error\"].message.value);\n        setErrorMessage(response[\"odata.error\"].message.value);\n      } else {\n        setSuccessMessage('Card Added Successfully');\n      }\n    });\n  };\n\n  var navigation = props.navigation;\n  return React.createElement(Container, {\n    style: loginStyle.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 5\n    }\n  }, React.createElement(SideBarMenu, {\n    title: \" Add Payment Method \",\n    navigation: props.navigation,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }), React.createElement(Content, {\n    style: loginStyle.spacing,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: loginStyle.contentContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }\n  }, loader ? React.createElement(View, {\n    style: [styles.container, styles.horizontal],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }, React.createElement(ActivityIndicator, {\n    size: \"large\",\n    color: \"#29ABE2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 15\n    }\n  })) : React.createElement(View, {\n    style: {\n      padding: 15\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: {\n      marginBottom: 15\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 15\n    }\n  }, React.createElement(View, {\n    style: checkNickname ? globalStyle.formFieldError : globalStyle.formField,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: globalStyle.formLabel,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 19\n    }\n  }, \"Nickname \"), React.createElement(Input, {\n    value: Nickname,\n    onChangeText: function onChangeText(text) {\n      return setnickname(text);\n    },\n    placeholderTextColor: \"#ccc\",\n    style: globalStyle.formControls,\n    placeholder: \"Nickname\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 19\n    }\n  })), checkNickname ? React.createElement(Text, {\n    style: globalStyle.error,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 19\n    }\n  }, \"Enter Nickname \") : null), React.createElement(View, {\n    style: {\n      marginBottom: 15\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 15\n    }\n  }, React.createElement(View, {\n    style: checkCardnumber ? globalStyle.formFieldError : globalStyle.formField,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: globalStyle.formLabel,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 19\n    }\n  }, \"Card Number \"), React.createElement(Input, {\n    value: CardNumber,\n    keyboardType: \"number-pad\",\n    onChangeText: function onChangeText(text) {\n      return setcardNumber(text);\n    },\n    placeholderTextColor: \"#ccc\",\n    style: globalStyle.formControls,\n    placeholder: \"Card Number\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 19\n    }\n  })), checkCardnumber ? React.createElement(Text, {\n    style: globalStyle.error,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 19\n    }\n  }, \"Enter Card Number \") : null), React.createElement(View, {\n    style: {\n      marginBottom: 25\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 15\n    }\n  }, React.createElement(View, {\n    style: checkCardCode ? globalStyle.formFieldError : globalStyle.formField,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: globalStyle.formLabel,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 19\n    }\n  }, \"Card Code \"), React.createElement(Input, {\n    value: CardCode,\n    onChangeText: function onChangeText(text) {\n      return setcardCode(text);\n    },\n    placeholderTextColor: \"#ccc\",\n    style: globalStyle.formControls,\n    placeholder: \"Card Code\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 19\n    }\n  })), checkCardCode ? React.createElement(Text, {\n    style: globalStyle.error,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 19\n    }\n  }, \"Enter Card Code\") : null), React.createElement(View, {\n    style: checkCardExpiration ? globalStyle.formFieldError : globalStyle.formField,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 15\n    }\n  }, React.createElement(Text, {\n    style: globalStyle.formLabel,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 17\n    }\n  }, \"Card Expiration \"), React.createElement(View, {\n    style: [globalStyle.formControls, {\n      marginBottom: 15\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 17\n    }\n  }, React.createElement(DatePicker, {\n    showIcon: false,\n    androidMode: \"spinner\",\n    date: CardExpiration,\n    mode: \"date\",\n    placeholder: \"YYYY-MM-DD\",\n    format: \"YYYY-MM-DD\",\n    confirmBtnText: \"Ch\\u1ECDn\",\n    cancelBtnText: \"H\\u1EE7y\",\n    style: {\n      fontSize: 20\n    },\n    customStyles: {\n      dateInput: {\n        backgroundColor: '#F7F8F9',\n        borderWidth: 0,\n        borderColor: 'black',\n        width: \"100%\",\n        padding: 0,\n        fontSize: 20\n      }\n    },\n    onDateChange: function onDateChange(date) {\n      setCardExpiration(date);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 19\n    }\n  }))), checkCardExpiration ? React.createElement(Text, {\n    style: globalStyle.error,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 17\n    }\n  }, \"Enter Card Expiry\") : null, errorMessage != \"\" ? React.createElement(Text, {\n    style: globalStyle.errorText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 17\n    }\n  }, errorMessage) : null, SuccessMessage != \"\" ? React.createElement(Text, {\n    style: globalStyle.sucessText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 17\n    }\n  }, SuccessMessage) : null, React.createElement(View, {\n    style: {\n      paddingLeft: 0,\n      paddingRight: 0,\n      marginTop: 20,\n      marginBottom: 30\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 15\n    }\n  }, React.createElement(ImageBackground, {\n    style: [globalStyle.Btn, {\n      width: '100%'\n    }],\n    source: require(\"./../../../assets/Oval.png\"),\n    resizeMode: 'stretch',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 17\n    }\n  }, React.createElement(Button, {\n    style: [loginStyle.buttons],\n    onPress: addMethod,\n    full: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 19\n    }\n  }, React.createElement(Text, {\n    style: loginStyle.buttonText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 21\n    }\n  }, \"Submit\"))))))));\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center'\n  },\n  horizontal: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    padding: 10\n  }\n});\nexport default AddPaymentMethod;","map":{"version":3,"sources":["/Users/tsingh/Desktop/Tapmeet-Projects/mastermind-mobile-app/src/components/screens/AddPaymentMethod.js"],"names":["React","API_URL","Container","Content","Form","Item","Input","Label","Button","Text","Body","H2","Icon","loginStyle","globalStyle","useSelector","SideBarMenu","DatePicker","moment","apiUrl","trim","AddPaymentMethod","props","useState","loader","setloader","Nickname","setNickname","CardNumber","setCardNumber","CardCode","setCardCode","CardExpiration","setCardExpiration","checkNickname","setCheckNickname","checkCardnumber","setCheckCardnumber","checkCardCode","setCheckCardCode","checkCardExpiration","setCheckCardExpiration","SuccessMessage","setSuccessMessage","errorMessage","setErrorMessage","userId","state","date","setDate","useEffect","navigation","addListener","clearData","setnickname","event","setcardNumber","setcardCode","addMethod","fetch","method","headers","Accept","access_Token","body","JSON","stringify","then","response","json","console","log","message","value","container","spacing","contentContainer","styles","horizontal","padding","marginBottom","formFieldError","formField","formLabel","text","formControls","error","fontSize","dateInput","backgroundColor","borderWidth","borderColor","width","errorText","sucessText","paddingLeft","paddingRight","marginTop","Btn","require","buttons","buttonText","StyleSheet","create","flex","justifyContent","flexDirection"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { View, Image, StyleSheet, ImageBackground, useWindowDimensions, ActivityIndicator } from \"react-native\";\nimport { API_URL } from \"../Utility/AppConst\"\nimport {\n  Container,\n  Content,\n  Form,\n  Item,\n  Input,\n  Label,\n  Button,\n  Text,\n  Body,\n  H2,\n  Icon,\n} from \"native-base\";\nimport loginStyle from \"../../style/login/loginStyle\";\nimport globalStyle from \"../../style/globalStyle\";\nimport { useSelector } from 'react-redux'\nimport { SideBarMenu } from \"../sidebar\";\nimport DatePicker from 'react-native-datepicker';\n\nimport moment from 'moment';\nconst apiUrl = API_URL.trim();\nconst AddPaymentMethod = (props) => {\n  const [loader, setloader] = React.useState(false);\n  const [Nickname, setNickname] = React.useState('');\n  const [CardNumber, setCardNumber] = React.useState('');\n  const [CardCode, setCardCode] = React.useState('');\n  const [CardExpiration, setCardExpiration] = React.useState('');\n\n  const [checkNickname, setCheckNickname] = React.useState(false);\n  const [checkCardnumber, setCheckCardnumber] = React.useState(false);\n  const [checkCardCode, setCheckCardCode] = React.useState(false);\n  const [checkCardExpiration, setCheckCardExpiration] = React.useState(false);\n  const [SuccessMessage, setSuccessMessage] = React.useState('');\n  const [errorMessage, setErrorMessage] = React.useState('');\n  const userId = useSelector(state => state);\n  const [date, setDate] = React.useState('');\n  React.useEffect(() => {\n    navigation.addListener('focus', () => {\n      clearData()\n    })\n  })\n  const clearData = () => {\n    setNickname('');\n    setCardNumber('');\n    setCardCode('');\n    setCardExpiration('')\n  }\n  const setnickname = (event) => {\n    setNickname(event);\n    if (event == \"\") {\n      setCheckNickname(true);\n    } else {\n      setCheckNickname(false);\n    }\n  };\n  const setcardNumber = (event) => {\n    setCardNumber(event);\n    if (event == \"\") {\n      setCheckCardnumber(true);\n    } else {\n      setCheckCardnumber(false);\n    }\n  };\n  const setcardCode = (event) => {\n    setCardCode(event);\n    if (event == \"\") {\n      setCheckCardCode(true);\n    } else {\n      setCheckCardCode(false);\n    }\n  };\n  const addMethod = () => {\n    setErrorMessage('');\n    setSuccessMessage('');\n    if (Nickname == \"\") {\n      setCheckNickname(true);\n      return false;\n    }\n    if (CardNumber == \"\") {\n      setCheckCardnumber(true);\n      return false;\n    }\n    if (CardCode == \"\") {\n      setCheckCardCode(true);\n      return false;\n    }\n    if (CardExpiration == \"\") {\n      setCheckCardExpiration(true);\n      return false;\n    }\n    fetch(`${apiUrl}/odata/PaymentMethod`, {\n      method: \"post\",\n      headers: {\n        Accept: \"*/*\",\n        \"Content-Type\": \"application/json\",\n        'Authorization': 'Bearer ' + userId[0].access_Token\n      },\n      body: JSON.stringify({\n        \"PersonPaymentMethodId\": 0,\n        \"Nickname\": Nickname,\n        \"CardNumber\": CardNumber,\n        \"CardCode\": CardCode,\n        \"PaymentType\": \"1\",\n        \"CardExpiration\": CardExpiration\n      }),\n    })\n      .then(response => response.json())\n      .then(response => {\n        console.log(response);\n        if (response[\"odata.error\"]) {\n          console.log(response[\"odata.error\"].message.value);\n          setErrorMessage(response[\"odata.error\"].message.value);\n        } else {\n          setSuccessMessage('Card Added Successfully');\n        }\n      });\n  }\n  const { navigation } = props;\n  return (\n    <Container style={loginStyle.container}>\n      <SideBarMenu title={\" Add Payment Method \"} navigation={props.navigation} />\n      <Content style={loginStyle.spacing}>\n        <View style={loginStyle.contentContainer}>\n          {loader ?\n            <View style={[styles.container, styles.horizontal]}>\n              <ActivityIndicator size=\"large\" color=\"#29ABE2\" />\n            </View>\n            :\n            <View style={{ padding: 15 }}>\n              <View style={{ marginBottom: 15 }}>\n                <View style={checkNickname\n                  ? globalStyle.formFieldError : globalStyle.formField}>\n                  <Text style={globalStyle.formLabel}>Nickname </Text>\n                  <Input\n                    value={Nickname}\n                    onChangeText={(text) => setnickname(text)}\n                    placeholderTextColor='#ccc'\n                    style={globalStyle.formControls\n                    }\n                    placeholder=\"Nickname\"\n                  />\n                </View>\n                {checkNickname ? (\n                  <Text style={globalStyle.error}>Enter Nickname </Text>\n                ) : null}\n              </View>\n              <View style={{ marginBottom: 15 }}>\n                <View style={checkCardnumber\n                  ? globalStyle.formFieldError : globalStyle.formField}>\n                  <Text style={globalStyle.formLabel}>Card Number </Text>\n                  <Input\n                    value={CardNumber}\n                    keyboardType=\"number-pad\"\n                    onChangeText={(text) => setcardNumber(text)}\n                    placeholderTextColor='#ccc'\n                    style={globalStyle.formControls\n                    }\n                    placeholder=\"Card Number\"\n                  />\n                </View>\n                {checkCardnumber ? (\n                  <Text style={globalStyle.error}>Enter Card Number </Text>\n                ) : null}\n              </View>\n              <View style={{ marginBottom: 25 }}>\n                <View style={checkCardCode\n                  ? globalStyle.formFieldError : globalStyle.formField}>\n                  <Text style={globalStyle.formLabel}>Card Code </Text>\n                  <Input\n                    value={CardCode}\n                    onChangeText={(text) => setcardCode(text)}\n                    placeholderTextColor='#ccc'\n                    style={\n                      globalStyle.formControls\n                    }\n                    placeholder=\"Card Code\"\n                  />\n                </View>\n                {checkCardCode ? (\n                  <Text style={globalStyle.error}>Enter Card Code</Text>\n                ) : null}\n              </View>\n\n              <View style={checkCardExpiration\n                ? globalStyle.formFieldError : globalStyle.formField}>\n                <Text style={globalStyle.formLabel}>Card Expiration </Text>\n                <View style={[globalStyle.formControls, { marginBottom: 15 }]}>\n                  <DatePicker\n                    showIcon={false}\n                    androidMode=\"spinner\"\n                    date={CardExpiration}\n                    mode=\"date\"\n                    placeholder=\"YYYY-MM-DD\"\n                    format=\"YYYY-MM-DD\"\n                    //maxDate={moment().format('YYYY-MM-DD')}\n                    confirmBtnText=\"Chọn\"\n                    cancelBtnText=\"Hủy\"\n                    style={{ fontSize: 20 }}\n                    customStyles={{\n                      dateInput: {\n                        backgroundColor: '#F7F8F9',\n                        borderWidth: 0,\n                        borderColor: 'black',\n                        width: \"100%\",\n                        padding: 0,\n                        fontSize: 20\n                      },\n                    }}\n                    onDateChange={(date) => { setCardExpiration(date) }}\n                  />\n                </View>\n              </View>\n              {checkCardExpiration ? (\n                <Text style={globalStyle.error}>Enter Card Expiry</Text>\n              ) : null}\n              {errorMessage != \"\" ? (\n                <Text style={globalStyle.errorText}>{errorMessage}</Text>\n              ) : null}\n              {SuccessMessage != \"\" ? (\n                <Text style={globalStyle.sucessText}>{SuccessMessage}</Text>\n              ) : null}\n              <View style={{ paddingLeft: 0, paddingRight: 0, marginTop: 20, marginBottom: 30 }}>\n                <ImageBackground\n                  style={[globalStyle.Btn, {\n                    width: '100%'\n                  }]}\n                  source={require('./../../../assets/Oval.png')}\n                  resizeMode={'stretch'}\n                >\n                  <Button\n                    style={[loginStyle.buttons]}\n                    onPress={addMethod}\n                    full>\n                    <Text style={loginStyle.buttonText} >Submit</Text>\n                  </Button>\n                </ImageBackground>\n              </View>\n\n            </View>\n          }\n\n        </View>\n      </Content>\n    </Container>\n  );\n};\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n  },\n  horizontal: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    padding: 10,\n  },\n});\nexport default AddPaymentMethod;\n\n"]},"metadata":{},"sourceType":"module"}